<!DOCTYPE html> 
<html>
<head>
	<title>Jquery SPA page </title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
	<!--
	* Author: Adrian Fish
	* Assignment: BScH Mobile Development, Digital Skills Academy
	* Student ID: STU-00001519 * Date : 2018/04/03
	* Ref: website link to code referenced or the book, authors name and page number -->
	<script>
		/* 
		$.getJSON( "data/listitems.json")
		.success(function(result) {
			var items = [];
			$.each(result, function(i, field) {
			   items.push( "<li id='" + i + "' data-role='collapsible'>" + field + "</li>" );
			});
			$('#names-list').append(items);
		})
		.error(function(error){
          console.log(error);
		}); */
		var footerdata = '<div data-role="footer" data-position="fixed" data-tap-toggle="false" class=""><p>jQuery Mobile Demos version <span class="jqm-version"></span></p><p>Copyright 2013 The jQuery Foundation</p></div>';
		
		
		$(document).on('pageinit', function() {
			//$('#page1').append(footerdata);
			//Keep the same header on all pages
			$("#headerMaster").clone().appendTo(".headerChild");
			$("#footerMaster").clone().appendTo(".footerChild");
		}); 

		/* $(document).delegate("#index", "pageinit", function () {
			$("#headerMaster").clone().appendTo(".headerChild");
		}); */
	
		$( document ).ready(function() {

			$('#link1').on("click", buildPage('page2'));
		
			
		});

		function buildPage(page_id){
			var pagedata = '<div data-role="page" id="' + page_id +'"</div>';
			 //set whatever content you want to put into the new page
			 //var Headerstring = '<div data-role="header"><a href="index.html" data-icon="home">Home</a>	<h6>2nd Page</h6><a data-rel="back" data-icon="back">Go back</a>';			
			var mainheader = '<div class="headerChild"></div>';
			//append the new page onto the end of the body
			var contentdata = '<div data-role="content"><a href="#page1">This is the awesome content</a></div>';
			
			var mainfooter = '<div class="footerChild"></div>';
				
			//$('#page_body').append('<div data-role="page" id="' + page_id + '"><div data-role="Header">' + Headerstring + '</div>' + contentdata + '</div>');
			$('#page_body').append(pagedata);
			$('#' + page_id).append(mainheader).append(contentdata).append(mainfooter);
		
		}
	</script>
</head>

<body id="page_body">
	<div data-role="page" id="page1" class="" data-quicklinks="true">	
		<div data-role="header"  data-id="header"  id="headerMaster" class="">
			<!-- <h2><a href="../" title="jQuery Mobile Demos home"><img src="../_assets/img/jquery-logo.png" alt="jQuery Mobile"></a></h2> -->
			<p><span class="jqm-version"></span> Demos</p>
			<a href="#" class="jqm-navmenu-link ui-btn ui-btn-icon-notext ui-corner-all ui-icon-bars ui-nodisc-icon ui-alt-icon ui-btn-left">Menu</a>
			<a href="#" class="jqm-search-link ui-btn ui-btn-icon-notext ui-corner-all ui-icon-search ui-nodisc-icon ui-alt-icon ui-btn-right">Search</a>
		</div><!-- /header -->
		<div data-role="content">
	
			<div >
				<form>
					<input id="filter-for-listview" data-type="search" placeholder="Type to search..."></input>
				</form>
				<ul>
				
				<ul id="names-list" data-role="listview" data-inset="true" data-filter="true" data-input="#filter-for-listview" data-autodividers="true"  >
						<li data-role="collapsible" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" data-iconpos="right" data-inset="false">
								<h3>Collapsible (set) widget</h3>
								<ul>
									<li id="link1" data-filtertext="collapsibles content formatting"><a href="#page2" data-ajax="false">Collapsible</a></li>
									
								</ul>
							</li>				
						
				</ul>	
				
			</div>
		
		</div><!-- /content -->

		<div data-role="footer" id="footerMaster" data-position="fixed" data-tap-toggle="false" class="">
			<p>jQuery Mobile Demos version <span class="jqm-version"></span></p>
			<p>Copyright 2013 The jQuery Foundation</p>
		</div><!-- /footer -->
	
	</div>
		
</body>
</html>